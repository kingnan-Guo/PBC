C51 COMPILER V9.54   IPS_RECEIVE_STRING_HEADER_COMMUNICATION_P                             04/08/2022 01:26:36 PAGE 1   


C51 COMPILER V9.54, COMPILATION OF MODULE IPS_RECEIVE_STRING_HEADER_COMMUNICATION_P
OBJECT MODULE PLACED IN .\Objects\ips_receive_string_header_communication_protocol_immediately.obj
COMPILER INVOKED BY: C:\Program Files\Keil_v5\C51\BIN\C51.EXE ips_receive_string_header_communication_protocol_immediate
                    -ly.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\Listings\ips_receive_string_header_communication_protocol_immed
                    -iately.lst) TABS(2) OBJECT(.\Objects\ips_receive_string_header_communication_protocol_immediately.obj)

line level    source

   1          /**
   2           * @file ips_receive_string_header_communication_protocol_immediately.c
   3           * @author your name (you@domain.com)
   4           * @brief 
   5           * @version 0.1
   6           * @date 2022-04-06
   7           * 
   8           * @copyright Copyright (c) 2022
   9           * 
  10           */
  11          
  12          #include "reg51.h"
  13          #include "uart.h"
  14          #include "timer.h"
  15          #include "stdio.h"
  16          
  17          
  18          
  19          
  20          void uart_service(void){
  21   1          //unsigned char recv_move_index;
  22   1          if(recv_flag == 1){
  23   2              recv_flag = 0;
  24   2      
  25   2              // 关闭 自定义的 软件定时计数器
  26   2              // start_time = 0;
  27   2              
  28   2              sendString(recv_buf);
  29   2      
  30   2              switch (recv_buf[0]) {
  31   3                  case 1:
  32   3           
  33   3                      // printf("led_data = %d", led_data);
  34   3                      // 对数据进行即时解析 并且 在第六位 进行反馈
  35   3                      // recv_buf[3] = 0x01;
  36   3                      // printf("led_data = 0x01");
  37   3                      sendByte(0x01);
  38   3                      break;
  39   3                  case 2:
  40   3                      // 对数据进行即时解析 并且 在第六位 进行反馈
  41   3                      // printf("0x02");
  42   3                      // recv_buf[3] = 0x02;
  43   3                      // printf("led_data = 0x02");
  44   3                      sendByte(0x02);
  45   3                      break;
  46   3                  default:
  47   3                      break;
  48   3              }
  49   2              
  50   2      
  51   2              // 发送完成后  recv_buf 清除
  52   2              clear_recv_buffer(recv_buf);
  53   2              
C51 COMPILER V9.54   IPS_RECEIVE_STRING_HEADER_COMMUNICATION_P                             04/08/2022 01:26:36 PAGE 2   

  54   2      
  55   2      
  56   2          }
  57   1      }
  58          
  59          int main()
  60          {
  61   1          // 初始化 定时计数器 T1
  62   1          // timer0_init();
  63   1          uartInit();
  64   1          while (1)
  65   1          {
  66   2              uart_service();
  67   2          }
  68   1          //return 0;
  69   1      }
  70          


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     52    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
