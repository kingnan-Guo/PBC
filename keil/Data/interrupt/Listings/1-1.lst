C51 COMPILER V9.54   1_1                                                                   11/02/2021 00:39:08 PAGE 1   


C51 COMPILER V9.54, COMPILATION OF MODULE 1_1
OBJECT MODULE PLACED IN .\Objects\1-1.obj
COMPILER INVOKED BY: C:\Program Files\Keil_v5\C51\BIN\C51.EXE 1-1.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\
                    -Listings\1-1.lst) TABS(2) OBJECT(.\Objects\1-1.obj)

line level    source

   1          //#include "stdio.h"
   2          #include "reg51.h"
   3          //int TMOD, TH0, TL0, ET0, EA, TR0;
   4          int count;
   5          int num;
   6          int segArr[] = {0x3F, 0x06, 0x5B, 0x4F, 0x66, 0x6D, 0x7D, 0x07, 0x7F, 0x6F};
   7          
   8          void initTime(){
   9   1          //printf("%d \n", 0x01);
  10   1          
  11   1          TMOD = 0x01; // 0000 0001 定时器0 16位定时器
  12   1          TH0 = (65536 - 50000)/256; // 20ms = 50000us;  256 = 2 ^ 8;  初值>> 8  
  13   1          TL0 = (65536 - 50000)%256;
  14   1          // printf("TH0: %d TH0: %d \n", TH0, TL0);
  15   1          ET0 = 1; //定时器0 开启终中断
  16   1          EA = 1; // 开启总中断
  17   1          TR0 = 1; //启动定时器 0
  18   1      
  19   1      }
  20          
  21          void seg() {
  22   1          P2 = segArr[num];
  23   1          if(num==10) {
  24   2              num = 0;
  25   2          }
  26   1      }
  27          
  28          
  29          int main() {
  30   1          initTime();
  31   1          while (1){
  32   2            seg();
  33   2          };
  34   1          return 0;
  35   1      }
  36          
  37          // 外部中断0: 0 ; 定时器中断1: 1; 外部中断1: 2; 定时器中1:3; 串口中断: 4;
  38          void timeIser() interrupt 1{
  39   1          TH0 = (65536 - 50000)/256;  
  40   1          TL0 = (65536 - 50000)%256;
  41   1          count++;
  42   1          if(count == 20) {
  43   2            num++;
  44   2            count =0;
  45   2          }
  46   1            
  47   1      }
  48          
*** WARNING C294 IN LINE 34 OF 1-1.c: unreachable code


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     87    ----
   CONSTANT SIZE    =   ----    ----
C51 COMPILER V9.54   1_1                                                                   11/02/2021 00:39:08 PAGE 2   

   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =     24    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  1 WARNING(S),  0 ERROR(S)
